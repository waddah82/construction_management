<div class="container">
  <h3>Secretariat Dashboard</h3>
  <div id="summary"></div>
  <div id="today"></div>
  <script>
    // Summary: counts per status
    frappe.call({
      method: "frappe.client.get_list",
      args: { doctype: "Correspondence", fields: ["status", "count(name) as cnt"], group_by: "status" },
      callback: function(r) {
        var html = '<h4>Correspondence by status</h4><ul>';
        (r.message || []).forEach(function(row){ html += '<li>' + row.status + ': ' + row.cnt + '</li>'; });
        html += '</ul>';
        document.getElementById('summary').innerHTML = html;
      }
    });

    // Today's meetings
    frappe.call({
      method: "frappe.client.get_list",
      args: { doctype: "Meeting", filters: [["meeting_date", "=", frappe.datetime.get_today()]], fields:["name","title","meeting_time"], limit_page_length:5 },
      callback: function(r) {
        var html = '<h4>Meetings Today</h4><ul>';
        (r.message || []).forEach(function(m){ html += '<li><a href="/app/meeting/'+m.name+'">'+m.title+'</a> - '+ (m.meeting_time || '') +'</li>'; });
        html += '</ul>';
        document.getElementById('today').innerHTML = html;
      }
    });
  </script>
</div>